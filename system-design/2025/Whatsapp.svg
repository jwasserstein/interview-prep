<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2890.0889242910594 1706.176003122001" width="5780.177848582119" height="3412.352006244002"><!-- svg-source:excalidraw --><metadata></metadata><defs><style class="style-fonts">
      @font-face { font-family: Excalifont; src: url(data:font/woff2;base64,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); }</style></defs><rect x="0" y="0" width="2890.0889242910594" height="1706.176003122001" fill="#ffffff"></rect><g transform="translate(1174.54022075158 107.01483179533165) rotate(0 46.749961853027344 12.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Whatsapp</text></g><g transform="translate(142.89541386236942 10) rotate(0 296.05975341796875 125)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Functional Requirements</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- users should be able to start group chats</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- users should be able to send/receive messages (incl. media)</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- users should be able to receive messages even while offline</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Non-functional Requirements</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- deliver messages with low latency (&lt;500ms)</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- guarantee message delivery</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- billions of users</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- don't store messages longer than necessary</text></g><g transform="translate(11.775728739244187 438.7063723163902) rotate(0 166.13987731933594 250)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Entities</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- User</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - userId</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - username</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - email</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - ...</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Group</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - groupId</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - name</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - ownerId</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- UserGroup</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - userId</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - groupId</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Message</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - messageId</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - groupId</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - senderId</text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - recipientId (secondary index)</text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - content</text><text x="0" y="492.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - mediaLinks</text></g><g stroke-linecap="round" transform="translate(729.9306233850634 500.9414595226942) rotate(0 81.10546875 35.380859375)"><path d="M17.69 0 C45.83 -1.61, 78.15 0, 144.52 0 M17.69 0 C48.09 0.59, 78.97 1.18, 144.52 0 M144.52 0 C156.35 1.85, 161.56 7.33, 162.21 17.69 M144.52 0 C155.6 -2.04, 160.69 8.08, 162.21 17.69 M162.21 17.69 C160.75 29.22, 163.5 39.71, 162.21 53.07 M162.21 17.69 C163.07 29.96, 162.87 42.52, 162.21 53.07 M162.21 53.07 C163.41 66.76, 157.13 68.86, 144.52 70.76 M162.21 53.07 C163.34 66.41, 157.62 70.14, 144.52 70.76 M144.52 70.76 C108.68 68.94, 68.82 71.16, 17.69 70.76 M144.52 70.76 C103.22 72.45, 59.33 71.05, 17.69 70.76 M17.69 70.76 C4.8 70.68, 1.31 63.76, 0 53.07 M17.69 70.76 C6.15 68.8, -0.43 63.11, 0 53.07 M0 53.07 C0.12 38, -0.37 27.03, 0 17.69 M0 53.07 C-1.09 44.55, -1.19 34.77, 0 17.69 M0 17.69 C-1.86 4.61, 4.61 0.29, 17.69 0 M0 17.69 C-0.29 7.45, 7.53 1.32, 17.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(786.3661168543017 523.8223188976942) rotate(0 24.66997528076172 12.5)"><text x="24.66997528076172" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">user1</text></g><g stroke-linecap="round" transform="translate(729.0712483850634 614.3535688976942) rotate(0 81.10546875 35.380859375)"><path d="M17.69 0 C63.91 1.75, 112.06 1.09, 144.52 0 M17.69 0 C67.74 -0.11, 116.69 -0.16, 144.52 0 M144.52 0 C157.15 1.1, 163.68 4.05, 162.21 17.69 M144.52 0 C155.94 0.6, 164.4 5.14, 162.21 17.69 M162.21 17.69 C162.93 26.12, 161.9 31.15, 162.21 53.07 M162.21 17.69 C161.59 24.84, 162.61 34.26, 162.21 53.07 M162.21 53.07 C161.81 66.63, 156.99 72.21, 144.52 70.76 M162.21 53.07 C163.12 66.89, 155.22 71.05, 144.52 70.76 M144.52 70.76 C100.13 70.86, 57.74 69.25, 17.69 70.76 M144.52 70.76 C100.41 70.68, 57.17 70.74, 17.69 70.76 M17.69 70.76 C7.01 72.49, 1.34 65.21, 0 53.07 M17.69 70.76 C5.27 72.17, -1.33 63.35, 0 53.07 M0 53.07 C1.96 42.99, 1.52 32.53, 0 17.69 M0 53.07 C1.02 42.99, -0.31 32.28, 0 17.69 M0 17.69 C1.47 4.74, 4.08 0.64, 17.69 0 M0 17.69 C1.01 4.46, 6.89 -1.56, 17.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(782.7767384973681 637.2344282726942) rotate(0 27.399978637695312 12.5)"><text x="27.399978637695312" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">user2</text></g><g stroke-linecap="round" transform="translate(730.9618733850634 724.1739330056166) rotate(0 81.10546875 35.380859375)"><path d="M17.69 0 C56.74 0.44, 97.71 -1.75, 144.52 0 M17.69 0 C60.49 1.3, 101.09 1.97, 144.52 0 M144.52 0 C158.19 1.46, 164.07 6.88, 162.21 17.69 M144.52 0 C157.63 0.88, 160.78 3.65, 162.21 17.69 M162.21 17.69 C164.19 26.31, 161.22 35.45, 162.21 53.07 M162.21 17.69 C162.41 29.91, 161.44 42.05, 162.21 53.07 M162.21 53.07 C161.59 64.4, 154.81 70.91, 144.52 70.76 M162.21 53.07 C159.98 65.11, 155.89 70.19, 144.52 70.76 M144.52 70.76 C100.07 69.88, 59.92 72.03, 17.69 70.76 M144.52 70.76 C107.46 69.79, 71.22 69.01, 17.69 70.76 M17.69 70.76 C7.36 72.32, -1.87 65.9, 0 53.07 M17.69 70.76 C4.07 69.42, -2.28 64.43, 0 53.07 M0 53.07 C-0.08 43.84, 0.02 34.63, 0 17.69 M0 53.07 C0.28 44.64, 1.05 34.84, 0 17.69 M0 17.69 C-0.39 6.93, 7.66 0.2, 17.69 0 M0 17.69 C0.67 4, 7.69 -0.63, 17.69 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(785.587369295708 747.0547923806166) rotate(0 26.47997283935547 12.5)"><text x="26.47997283935547" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">user3</text></g><g stroke-linecap="round" transform="translate(1491.3251546350634 503.3827509034473) rotate(0 86.5390625 40.328125)"><path d="M20.16 0 C47.12 -0.68, 71.46 2.46, 152.91 0 M20.16 0 C72.2 0.24, 125.08 -1.12, 152.91 0 M152.91 0 C165.17 -1.3, 172.04 7.72, 173.08 20.16 M152.91 0 C165.84 1.43, 170.83 8.08, 173.08 20.16 M173.08 20.16 C172.7 30.63, 172.76 39.93, 173.08 60.49 M173.08 20.16 C173.16 31.57, 173.36 45.05, 173.08 60.49 M173.08 60.49 C171.09 73.12, 165.95 81.76, 152.91 80.66 M173.08 60.49 C171.59 74.73, 164.61 80.63, 152.91 80.66 M152.91 80.66 C109.61 79.62, 63.72 81.4, 20.16 80.66 M152.91 80.66 C122.8 80.21, 93.63 80.05, 20.16 80.66 M20.16 80.66 C7.88 80.48, -1.27 74.26, 0 60.49 M20.16 80.66 C7.86 80.05, -1.06 73.02, 0 60.49 M0 60.49 C0.95 46.25, -1.84 30.02, 0 20.16 M0 60.49 C-0.15 50.71, 0.6 38.76, 0 20.16 M0 20.16 C1.16 7.35, 5.2 -0.08, 20.16 0 M0 20.16 C-0.21 6.69, 5.23 -2.01, 20.16 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1557.4642384973681 531.2108759034472) rotate(0 20.399978637695312 12.5)"><text x="20.399978637695312" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">user</text></g><g stroke-linecap="round" transform="translate(1743.145518742986 504.3477095226942) rotate(0 39.97265625 39.97265625)"><path d="M25.16 2.19 C31.18 -0.72, 39.72 -0.06, 46.73 1.5 C53.74 3.05, 61.95 6.59, 67.21 11.52 C72.47 16.44, 76.4 24.22, 78.28 31.04 C80.16 37.87, 80.75 45.57, 78.51 52.44 C76.26 59.32, 70.45 67.64, 64.81 72.3 C59.17 76.95, 51.96 79.73, 44.67 80.37 C37.37 81.01, 27.72 79.48, 21.07 76.14 C14.41 72.8, 8.22 66.82, 4.76 60.32 C1.3 53.82, -0.03 44.28, 0.31 37.12 C0.65 29.96, 1.48 23.38, 6.79 17.36 C12.1 11.33, 26.92 3.59, 32.19 0.95 C37.46 -1.68, 38.24 0.86, 38.39 1.54 M25.44 4.14 C31.77 0.78, 41.17 -1.67, 47.96 -0.49 C54.75 0.69, 61.02 6.27, 66.16 11.21 C71.31 16.14, 77.08 22.52, 78.81 29.14 C80.54 35.75, 78.82 43.72, 76.54 50.91 C74.26 58.09, 70.32 67.27, 65.14 72.24 C59.95 77.2, 52.61 80.06, 45.44 80.69 C38.28 81.32, 28.76 79.55, 22.14 76.03 C15.52 72.51, 9.53 65.53, 5.7 59.56 C1.87 53.59, -0.97 47.06, -0.84 40.23 C-0.71 33.39, 2.35 24.77, 6.49 18.55 C10.63 12.32, 20.74 5.12, 24.02 2.89 C27.3 0.65, 25.93 4.38, 26.15 5.11" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1771.7532478518456 532.0554294762803) rotate(0 11.599990844726562 12.5)"><text x="11.599990844726562" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">db</text></g><g stroke-linecap="round"><g transform="translate(1665.715941695013 543.4553379337033) rotate(0 37.6389081782404 -1.092677671137892)"><path d="M-0.26 -0.24 C12.39 -0.42, 63.18 -0.11, 75.53 -0.2 M1.81 -1.41 C14.44 -1.98, 63.37 -2.17, 75.21 -1.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1665.715941695013 543.4553379337033) rotate(0 37.6389081782404 -1.092677671137892)"><path d="M51.65 6.51 C57.56 6.3, 65.92 1.31, 75.21 -1.83 M51.65 6.51 C58.76 4.54, 67.24 2.21, 75.21 -1.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1665.715941695013 543.4553379337033) rotate(0 37.6389081782404 -1.092677671137892)"><path d="M51.8 -10.59 C57.8 -6.18, 66.11 -6.54, 75.21 -1.83 M51.8 -10.59 C58.8 -6.97, 67.24 -3.71, 75.21 -1.83" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1137.742955243123 434.4493319544752) rotate(0 50.712890625 132.76241066449353)"><path d="M25.36 0 C41.16 -0.54, 54.02 0.8, 76.07 0 M25.36 0 C35.99 -0.06, 46.28 0.87, 76.07 0 M76.07 0 C94.16 -1.86, 99.73 9.53, 101.43 25.36 M76.07 0 C94.46 -1.97, 100.28 8.87, 101.43 25.36 M101.43 25.36 C102.43 82.95, 102.33 136.45, 101.43 240.17 M101.43 25.36 C99.66 69.34, 98.9 115.4, 101.43 240.17 M101.43 240.17 C101.37 259, 91.13 267.26, 76.07 265.52 M101.43 240.17 C102.72 257.64, 95.12 263.88, 76.07 265.52 M76.07 265.52 C61.69 265.84, 46.57 265.96, 25.36 265.52 M76.07 265.52 C57.24 264.81, 39.48 264.78, 25.36 265.52 M25.36 265.52 C6.71 265.08, 1.4 257.26, 0 240.17 M25.36 265.52 C10.45 263.44, -1.35 256.34, 0 240.17 M0 240.17 C3.53 161.05, 2.26 81.88, 0 25.36 M0 240.17 C-0.41 157.61, -0.5 74.66, 0 25.36 M0 25.36 C-0.53 9.82, 7.51 1.51, 25.36 0 M0 25.36 C-0.04 7.4, 6.88 1.08, 25.36 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1149.6058702821856 554.7117426189686) rotate(0 38.8499755859375 12.5)"><text x="38.8499755859375" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">API GW</text></g><g stroke-linecap="round"><g transform="translate(1239.5293296701425 580.3560586813917) rotate(0 124.44548968154186 -22.839315093716834)"><path d="M-0.96 0.96 C40.6 -6.87, 208.02 -38.66, 249.85 -46.64 M0.74 0.42 C42.16 -7.29, 207.76 -37.67, 249.27 -45.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1239.5293296701425 580.3560586813917) rotate(0 124.44548968154186 -22.839315093716834)"><path d="M227.72 -32.74 C236.62 -35.73, 241.36 -39.71, 249.27 -45.41 M227.72 -32.74 C231.78 -34.85, 237.18 -39.17, 249.27 -45.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1239.5293296701425 580.3560586813917) rotate(0 124.44548968154186 -22.839315093716834)"><path d="M224.61 -49.55 C234.61 -46.79, 240.41 -45.05, 249.27 -45.41 M224.61 -49.55 C229.37 -47.84, 235.48 -48.36, 249.27 -45.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1495.2722214566234 741.9613161488248) rotate(0 86.5390625 40.32812499999994)"><path d="M20.16 0 C58.13 -0.02, 96.94 -0.67, 152.91 0 M20.16 0 C57.43 -0.01, 96.1 -1.16, 152.91 0 M152.91 0 C164.49 1.71, 172.56 4.75, 173.08 20.16 M152.91 0 C164.48 -0.93, 171.75 5.61, 173.08 20.16 M173.08 20.16 C173 34.01, 172.14 45.76, 173.08 60.49 M173.08 20.16 C172.7 30.73, 172.67 43.62, 173.08 60.49 M173.08 60.49 C173.49 72.11, 166.7 81.21, 152.91 80.66 M173.08 60.49 C174.97 71.84, 167.69 81.98, 152.91 80.66 M152.91 80.66 C124.6 79.08, 94.19 79.87, 20.16 80.66 M152.91 80.66 C113.91 80.67, 76.91 80.36, 20.16 80.66 M20.16 80.66 C6.7 82.5, -1.84 73.4, 0 60.49 M20.16 80.66 C7.07 82.53, -0.4 75.23, 0 60.49 M0 60.49 C0.37 51.6, -0.86 39.6, 0 20.16 M0 60.49 C-0.15 49.29, 0.13 37.55, 0 20.16 M0 20.16 C-0.91 5.06, 7.65 -0.83, 20.16 0 M0 20.16 C-0.06 5.48, 8.38 -0.71, 20.16 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1542.2713211880687 769.7894411488246) rotate(0 39.53996276855469 12.5)"><text x="39.53996276855469" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">message</text></g><g stroke-linecap="round" transform="translate(1754.641496905711 745.18883055119) rotate(0 39.97265625 39.97265625)"><path d="M34.89 1.12 C41.42 -0.46, 49.4 -0.07, 56.02 2.8 C62.64 5.67, 70.79 12.24, 74.61 18.35 C78.43 24.45, 79.22 32.29, 78.96 39.44 C78.7 46.59, 76.89 55.01, 73.04 61.25 C69.18 67.49, 62.44 73.77, 55.83 76.87 C49.22 79.98, 40.39 81.01, 33.37 79.87 C26.34 78.73, 19.03 75.01, 13.67 70.02 C8.31 65.04, 3.23 56.88, 1.2 49.96 C-0.83 43.05, -0.75 35.33, 1.49 28.53 C3.72 21.73, 8.68 13.98, 14.61 9.16 C20.55 4.34, 32.54 0.97, 37.1 -0.39 C41.66 -1.75, 41.96 0.25, 41.96 1.02 M46.4 1.25 C52.86 1.63, 59.52 3.5, 64.9 8.21 C70.27 12.93, 76.64 22.34, 78.64 29.54 C80.65 36.75, 79.15 44.72, 76.95 51.45 C74.74 58.18, 70.67 65.33, 65.42 69.93 C60.17 74.54, 52.61 77.9, 45.47 79.07 C38.32 80.25, 28.86 79.87, 22.54 77 C16.21 74.13, 11.28 67.76, 7.52 61.84 C3.76 55.92, 0.42 48.78, -0.01 41.48 C-0.45 34.19, 0.98 24.17, 4.9 18.07 C8.81 11.97, 16.75 7.7, 23.48 4.89 C30.21 2.08, 41.73 1.81, 45.27 1.23 C48.81 0.65, 44.82 0.82, 44.72 1.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1783.2492260145705 772.8965505047763) rotate(0 11.599990844726562 12.5)"><text x="11.599990844726562" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">db</text></g><g stroke-linecap="round"><g transform="translate(1669.6630085165712 782.9651650849282) rotate(0 41.21569680827588 -0.46659180053075033)"><path d="M-0.38 0.39 C13.47 0.12, 69.29 -1.37, 82.82 -1.32 M1.61 -0.45 C15.42 -0.63, 68.76 -0.19, 82.34 -0.3" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1669.6630085165712 782.9651650849282) rotate(0 41.21569680827588 -0.46659180053075033)"><path d="M58.84 8.23 C65.88 7.48, 70 1.78, 82.34 -0.3 M58.84 8.23 C67.11 4.76, 76.41 1.4, 82.34 -0.3" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1669.6630085165712 782.9651650849282) rotate(0 41.21569680827588 -0.46659180053075033)"><path d="M58.86 -8.87 C65.94 -4.96, 70.05 -5.98, 82.34 -0.3 M58.86 -8.87 C67.07 -5.74, 76.37 -2.51, 82.34 -0.3" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(895.0541604860846 527.6492345912768) rotate(0 121.2213347044401 22.75223668227642)"><path d="M-0.1 -0.19 C40.24 7.49, 201.09 37.89, 241.67 45.51 M-1.6 -1.34 C39.15 6.56, 203.25 38.85, 244.05 46.85" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(895.0541604860846 527.6492345912768) rotate(0 121.2213347044401 22.75223668227642)"><path d="M219.35 50.71 C225.77 48.6, 232.18 50.42, 244.05 46.85 M219.35 50.71 C225.08 49.9, 231.97 48.44, 244.05 46.85" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(895.0541604860846 527.6492345912768) rotate(0 121.2213347044401 22.75223668227642)"><path d="M222.64 33.93 C228.09 36.39, 233.6 42.78, 244.05 46.85 M222.64 33.93 C227.52 37.67, 233.52 40.73, 244.05 46.85" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(431.22490548509586 337.3160258046781) rotate(0 322.2097473144531 62.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Client</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user logged into account on our mobile app</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- mobile app stores messages long-term</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- app maintains websocket with server</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- app stores a cache of know userIds and their associated names</text></g><g transform="translate(16.13511672578943 1034.2731491453258) rotate(0 401.90966796875 200)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">APIs</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Create user: POST /v1/user { username: "", password: "", ... } -&gt; userId</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Create group: POST /v1/group { userIds: ['user1', 'user2', ...] } -&gt; groupId</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- List groups for user: GET /v1/user/:userId/groups -&gt; { groupId, groupName }[]</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Send message: POST /v1/group/:groupId/message -&gt; messageId</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Acknowledge message: PATCH /v1/messages/:messageId { ack: true } -&gt; boolean</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Fetch messages: GET /v1/messages -&gt; messages[]</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Get User Name: GET /v1/users/names { userIds: [] } -&gt; names[]</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Flows</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user creates account</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user creates group with their friends</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user sees list view of all their groups</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user clicks into group and sees historical messages (messages are stored locally)</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text></g><g stroke-linecap="round" transform="translate(1469.3982398045396 931.0266968713531) rotate(0 124.37890625 48.568359375)"><path d="M115.23 0.82 C130.23 -0.22, 148.2 0.79, 163.3 2.68 C178.41 4.57, 194.01 8.2, 205.86 12.17 C217.7 16.15, 227.44 21.1, 234.38 26.52 C241.32 31.95, 246.17 38.44, 247.51 44.72 C248.85 50.99, 247.04 58.37, 242.44 64.15 C237.84 69.93, 230.19 74.93, 219.9 79.38 C209.62 83.83, 195.05 87.81, 180.72 90.85 C166.4 93.89, 149.63 97.1, 133.96 97.61 C118.29 98.11, 101.75 95.9, 86.72 93.89 C71.68 91.87, 56.03 89.46, 43.74 85.52 C31.45 81.58, 20.05 75.86, 12.98 70.22 C5.91 64.58, 2.39 57.8, 1.33 51.68 C0.26 45.56, 1.82 39.26, 6.56 33.51 C11.31 27.76, 19.51 21.79, 29.78 17.17 C40.05 12.56, 52.14 8.67, 68.17 5.83 C84.2 2.98, 114.25 0.78, 125.96 0.12 C137.67 -0.55, 138.58 0.95, 138.43 1.84 M98.42 0.83 C112.71 -1.14, 130.54 -0.69, 145.94 0.52 C161.35 1.72, 177.39 4.56, 190.84 8.07 C204.3 11.57, 217.35 16.62, 226.7 21.57 C236.04 26.52, 243.69 31.97, 246.91 37.76 C250.14 43.56, 248.91 50.07, 246.03 56.35 C243.16 62.63, 237.84 70.33, 229.65 75.45 C221.45 80.57, 209.74 83.55, 196.88 87.06 C184.01 90.56, 168.03 94.87, 152.46 96.48 C136.89 98.09, 119.09 97.69, 103.45 96.71 C87.81 95.73, 72.22 93.89, 58.62 90.6 C45.02 87.3, 31.03 81.99, 21.85 76.94 C12.66 71.89, 6.79 66.49, 3.5 60.3 C0.22 54.11, -0.52 46.23, 2.13 39.79 C4.79 33.35, 11.17 26.97, 19.44 21.65 C27.71 16.34, 38.84 11.52, 51.75 7.89 C64.65 4.25, 89.1 0.6, 96.87 -0.15 C104.64 -0.9, 98.04 2.37, 98.38 3.41" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1522.0980280574272 967.2520399811854) rotate(0 71.72994995117188 12.5)"><text x="71.72994995117188" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">object storage</text></g><g stroke-linecap="round" transform="translate(1142.8134358850634 842.242240772694) rotate(0 52.55859375 97.505859375)"><path d="M26.28 0 C35.4 -0.89, 50.1 -0.25, 78.84 0 M26.28 0 C44.04 -0.36, 60.72 0.84, 78.84 0 M78.84 0 C98.2 0.09, 104.96 10.58, 105.12 26.28 M78.84 0 C98.19 -1.79, 104.82 7.56, 105.12 26.28 M105.12 26.28 C103.6 64.64, 104.84 101.55, 105.12 168.73 M105.12 26.28 C104.15 65.37, 104.32 103.32, 105.12 168.73 M105.12 168.73 C107.05 184.68, 95.1 194.11, 78.84 195.01 M105.12 168.73 C106.64 186.37, 97.07 196.4, 78.84 195.01 M78.84 195.01 C68.03 196.15, 53.72 193.87, 26.28 195.01 M78.84 195.01 C64.76 195.56, 51.85 195.9, 26.28 195.01 M26.28 195.01 C7.09 196.68, 0.34 187.71, 0 168.73 M26.28 195.01 C10.37 196.68, -1.85 184.59, 0 168.73 M0 168.73 C-0.59 139.14, -0.99 109.47, 0 26.28 M0 168.73 C0.41 133.26, 0.55 96.49, 0 26.28 M0 26.28 C-1.15 9.85, 8.45 1.5, 26.28 0 M0 26.28 C0.03 7.06, 6.75 0.68, 26.28 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1174.9620412317431 927.248100147694) rotate(0 20.409988403320312 12.5)"><text x="20.409988403320312" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CDN</text></g><g stroke-linecap="round"><g transform="translate(1249.2762701261586 944.552975937753) rotate(0 110.28858399022124 10.690848341809783)"><path d="M0.52 0.87 C37.39 4.52, 184.33 17.87, 221.24 21.1 M-0.66 0.29 C36.06 3.66, 183.32 15.84, 220.39 19.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1249.2762701261586 944.552975937753) rotate(0 110.28858399022124 10.690848341809783)"><path d="M196.24 25.83 C205.05 24.08, 212.22 23.41, 220.39 19.38 M196.24 25.83 C203.08 24.09, 210.13 21.79, 220.39 19.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1249.2762701261586 944.552975937753) rotate(0 110.28858399022124 10.690848341809783)"><path d="M197.74 8.8 C205.99 12.21, 212.7 16.71, 220.39 19.38 M197.74 8.8 C204.06 12.07, 210.67 14.79, 220.39 19.38" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(835.949184298272 796.4098818457628) rotate(0 152.48144855887426 77.00576902106945)"><path d="M-0.09 -0.43 C50.62 25.25, 253.3 128.65, 304.28 154.7 M-1.6 -1.71 C49.49 24.04, 255.41 129.22, 306.56 155.72" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(835.949184298272 796.4098818457628) rotate(0 152.48144855887426 77.00576902106945)"><path d="M281.76 152.59 C288.54 152.21, 295.09 155.63, 306.56 155.72 M281.76 152.59 C289.44 152.5, 298.03 155.06, 306.56 155.72" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(835.949184298272 796.4098818457628) rotate(0 152.48144855887426 77.00576902106945)"><path d="M289.57 137.38 C294.07 141.58, 298.27 149.59, 306.56 155.72 M289.57 137.38 C294.89 142.15, 301.02 149.49, 306.56 155.72" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(1498.5032402882712 614.9951423675377) rotate(0 86.5390625 40.328125)"><path d="M20.16 0 C55.2 -0.33, 91.02 0.6, 152.91 0 M20.16 0 C57.35 0.33, 95.04 0.77, 152.91 0 M152.91 0 C165.4 -0.41, 172.41 7.32, 173.08 20.16 M152.91 0 C165.85 -1.27, 174.24 8.34, 173.08 20.16 M173.08 20.16 C174.1 28.62, 173.44 38.37, 173.08 60.49 M173.08 20.16 C172.51 35.27, 173.18 49.58, 173.08 60.49 M173.08 60.49 C174.71 75.36, 167.95 78.74, 152.91 80.66 M173.08 60.49 C171.4 72.58, 167.96 81.61, 152.91 80.66 M152.91 80.66 C113.56 80.86, 76.42 80.89, 20.16 80.66 M152.91 80.66 C114.13 82, 74.96 81.39, 20.16 80.66 M20.16 80.66 C6.21 78.84, -0.98 75.07, 0 60.49 M20.16 80.66 C7.43 78.6, -0.89 74.53, 0 60.49 M0 60.49 C0.16 43.91, 1.02 31.74, 0 20.16 M0 60.49 C-0.84 49.46, -0.27 40, 0 20.16 M0 20.16 C1.98 7.15, 6.86 -0.43, 20.16 0 M0 20.16 C-0.43 4.44, 6.48 0.46, 20.16 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1558.5223214039938 642.8232673675377) rotate(0 26.519981384277344 12.5)"><text x="26.519981384277344" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">group</text></g><g stroke-linecap="round" transform="translate(1752.6229079776435 616.0696674355293) rotate(0 39.97265625 39.97265625)"><path d="M38.47 0.93 C45.04 0.27, 53.7 1.64, 60.07 5.18 C66.45 8.73, 73.45 15.67, 76.7 22.21 C79.95 28.75, 80.71 37.29, 79.58 44.45 C78.46 51.61, 74.53 59.41, 69.95 65.17 C65.36 70.92, 58.88 76.79, 52.05 78.97 C45.22 81.15, 36.07 80.29, 28.97 78.23 C21.87 76.18, 14.23 72.09, 9.44 66.66 C4.64 61.23, 1.3 52.86, 0.19 45.65 C-0.91 38.45, -0.05 29.82, 2.8 23.41 C5.66 17.01, 10.49 11.18, 17.32 7.23 C24.15 3.28, 38.52 0.55, 43.77 -0.3 C49.03 -1.14, 48.85 1.28, 48.86 2.16 M51.73 1.72 C58.52 3.25, 66.61 9.87, 71.05 15.73 C75.48 21.59, 77.64 29.7, 78.33 36.88 C79.02 44.07, 78.22 52.68, 75.17 58.85 C72.11 65.01, 66.32 70.5, 60 73.88 C53.67 77.27, 44.53 79.23, 37.2 79.14 C29.86 79.05, 21.73 77.3, 15.98 73.32 C10.23 69.35, 5 61.95, 2.68 55.29 C0.36 48.63, 0.78 40.48, 2.05 33.36 C3.32 26.24, 5.59 17.72, 10.32 12.57 C15.04 7.41, 23.39 4.36, 30.42 2.43 C37.45 0.5, 48.81 0.8, 52.51 0.97 C56.21 1.14, 52.75 2.39, 52.63 3.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1781.230637086503 643.7773873891153) rotate(0 11.599990844726562 12.5)"><text x="11.599990844726562" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">db</text></g><g stroke-linecap="round"><g transform="translate(1676.1555493789588 660.3119594871421) rotate(0 38.94211110498236 -0.7847397484441103)"><path d="M0.19 0.52 C13.18 0.28, 66.04 -1.81, 79.06 -2.09 M-1.18 -0.25 C11.57 -0.29, 64.43 -0.98, 78.09 -0.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1676.1555493789588 660.3119594871421) rotate(0 38.94211110498236 -0.7847397484441103)"><path d="M54.64 7.76 C64.69 4.29, 71.89 -0.36, 78.09 -0.89 M54.64 7.76 C62.82 5.51, 70.3 3.03, 78.09 -0.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1676.1555493789588 660.3119594871421) rotate(0 38.94211110498236 -0.7847397484441103)"><path d="M54.56 -9.34 C64.55 -6.15, 71.78 -4.13, 78.09 -0.89 M54.56 -9.34 C62.82 -6.06, 70.32 -3, 78.09 -0.89" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1240.3855300508385 584.015172589638) rotate(0 128.08716701251456 35.376637945386676)"><path d="M0.92 -0.65 C43.57 11.05, 213.67 59.53, 256.23 71.41 M-0.06 1.62 C42.37 13.51, 212.5 58.06, 255.07 69.79" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1240.3855300508385 584.015172589638) rotate(0 128.08716701251456 35.376637945386676)"><path d="M230.16 71.96 C237.22 70.39, 248.07 69.79, 255.07 69.79 M230.16 71.96 C237.69 70.84, 245.29 71.23, 255.07 69.79" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1240.3855300508385 584.015172589638) rotate(0 128.08716701251456 35.376637945386676)"><path d="M234.59 55.45 C240.36 59.32, 249.76 64.14, 255.07 69.79 M234.59 55.45 C240.79 59.49, 247 65.04, 255.07 69.79" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(1860.009761693403 764.0902832121872) rotate(0 510.0395812988281 25)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- server only stores messages until all recipients acknowledge it</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- message service is sharded by recipientId, can quickly retrieve all unread messages for a given recipient</text></g><g transform="translate(10 1421.176003122001) rotate(0 508.55001673095535 137.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Sending flow</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user1 sends message to group</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- server stores a copy of the message for each user in the group</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">let user2 be online, user3 be offline</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- server pushes message to all users in group</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user2 receives message over websocket, ackowledges message, server deletes user2's copy</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- user3 isn't able to receive, server stores temporarily</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- when user3 is online, makes request to GET /v1/messages, server querys messages table using</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">secondary index on recipientId, return all unacknowledged messages</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- when user acknowledges message, server deletes their copy</text></g><g mask="url(#mask-PlK2-93OrSoLOW9QmvE8D)" stroke-linecap="round"><g transform="translate(1491.9423691810848 776.8360207310407) rotate(0 -296.14309019754046 -8.628760500907106)"><path d="M-0.93 -0.79 C-99.61 -3.91, -493.75 -15.9, -592.64 -18.67 M0.78 1.41 C-97.92 -1.53, -493.7 -13.86, -593.07 -17.31" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1491.9423691810848 776.8360207310407) rotate(0 -296.14309019754046 -8.628760500907106)"><path d="M-569.31 -25.09 C-576.64 -21.65, -581.91 -22.43, -593.07 -17.31 M-569.31 -25.09 C-577.96 -21.52, -586.29 -20.05, -593.07 -17.31" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g><g transform="translate(1491.9423691810848 776.8360207310407) rotate(0 -296.14309019754046 -8.628760500907106)"><path d="M-569.87 -8 C-577.06 -8.89, -582.19 -13.99, -593.07 -17.31 M-569.87 -8 C-578.25 -10.86, -586.38 -15.82, -593.07 -17.31" stroke="#1e1e1e" stroke-width="4" fill="none"></path></g></g><mask id="mask-PlK2-93OrSoLOW9QmvE8D"><rect x="0" y="0" fill="#fff" width="2185.5745150030093" height="895.1705057300494"></rect><rect x="1144.5763389947324" y="755.1687782315363" fill="#000" width="101.09991455078125" height="25" opacity="1"></rect></mask><g transform="translate(1144.5763389947315 755.1687782315363) rotate(0 51.22293998881241 13.038481998597263)"><text x="50.549957275390625" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">websocket</text></g><g stroke-linecap="round"><g transform="translate(896.5798412410509 652.014463902562) rotate(0 120.50258855265497 -33.89440816229336)"><path d="M0.81 -0.65 C40.9 -12.36, 201.09 -57.85, 241.23 -69.42 M-0.22 1.63 C39.7 -9.97, 200.32 -56.18, 240.58 -67.98" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(896.5798412410509 652.014463902562) rotate(0 120.50258855265497 -33.89440816229336)"><path d="M220.4 -53.22 C226.4 -57.65, 234.36 -62.25, 240.58 -67.98 M220.4 -53.22 C225.12 -56.4, 229.25 -60.16, 240.58 -67.98" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(896.5798412410509 652.014463902562) rotate(0 120.50258855265497 -33.89440816229336)"><path d="M215.64 -69.65 C223.45 -68.26, 233.1 -67.01, 240.58 -67.98 M215.64 -69.65 C221.59 -69.05, 226.82 -69.02, 240.58 -67.98" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1583.2391554734854 823.5161616329535) rotate(0 0.6901146512509513 53.495249062114794)"><path d="M-0.32 1.06 C-0.33 18.42, 0.81 87.66, 0.93 105.17 M1.71 0.58 C1.55 18.61, 0.86 89.17, 0.57 106.41" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(1583.2391554734854 823.5161616329535) rotate(0 0.6901146512509513 53.495249062114794)"><path d="M-7.68 82.81 C-2.57 93.68, -2.13 101.79, 0.57 106.41 M-7.68 82.81 C-4.42 91.52, -3.07 98.9, 0.57 106.41" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(1583.2391554734854 823.5161616329535) rotate(0 0.6901146512509513 53.495249062114794)"><path d="M9.42 83.03 C8.02 93.77, 1.94 101.8, 0.57 106.41 M9.42 83.03 C6.94 91.54, 2.54 98.84, 0.57 106.41" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(1640.6304338883251 862.4844961944261) rotate(0 359.83978271484375 12.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">get presignedUrl for uploading media, app uploads directly to object store</text></g><g stroke-linecap="round"><g transform="translate(1593.565839501542 741.1332927397241) rotate(0 0.37681565390903415 -21.949462383462958)"><path d="M-0.17 -0.42 C-0.08 -7.76, 0.76 -36.44, 0.93 -43.73 M0.74 0.56 C0.77 -6.96, 0.7 -37.11, 0.69 -44.46" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(1593.565839501542 741.1332927397241) rotate(0 0.37681565390903415 -21.949462383462958)"><path d="M8.29 -23.71 C4.7 -30.57, 3.54 -38.25, 0.69 -44.46 M8.29 -23.71 C5.89 -29.86, 3.44 -36.74, 0.69 -44.46" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(1593.565839501542 741.1332927397241) rotate(0 0.37681565390903415 -21.949462383462958)"><path d="M-6.83 -23.68 C-4.92 -30.53, -0.58 -38.22, 0.69 -44.46 M-6.83 -23.68 C-4.61 -29.83, -2.44 -36.72, 0.69 -44.46" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(1092.9769076515463 1159.7482256868395) rotate(0 514.2940932666529 137.79105947599862)"><text x="0" y="14.9407905721052" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Deep Dives</text><text x="0" y="36.13941510687421" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Latency</text><text x="0" y="57.33803964164323" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - push messages to recipient using websocket, SSE, long polling, Apple Push Notification (APN), etc</text><text x="0" y="78.53666417641224" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Guaranteed message delivery / don't store longer than necessary on server</text><text x="0" y="99.73528871118125" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - stored a copy of each message for each user until that user acknowledges receipt, then we delete from server</text><text x="0" y="120.93391324595027" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- Scalability</text><text x="0" y="142.1325377807193" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - if we have tons of users in a single group, storing a copy of the message for each user could be a bottleneck.</text><text x="0" y="163.3311623154883" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">alternative is to store a single copy of the message and just store the id of each user who still needs to acknowledge it</text><text x="0" y="184.52978685025732" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - shard message service by recipientId, always know where to find unread messages for each user</text><text x="0" y="205.72841138502633" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- How to show user's name on a message</text><text x="0" y="226.92703591979534" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - Option 1: denormalize user's name into message, won't show updates when user changes their name but simple</text><text x="0" y="248.12566045456435" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    - Option 2: keep mapping of userId to name in client, can fetch via API when encountering unknown userId, can</text><text x="0" y="269.32428498933336" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="16.95889962781521px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">periodically check if names have been updated.  name updates will be eventually consistent</text></g><g transform="translate(1874.3699648279185 638.458093380297) rotate(0 171.33987426757812 25)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- group service is sharded by group</text></g><g transform="translate(1864.2424250407653 505.76688542911535) rotate(0 380.7997131347656 37.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- simple access pattern, can use documentdb like mongodb</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- likely don't need to shard user server, entire dataset will be ~1-5 TB</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">- store entire copy of DB on each server, load balance across multiple replicas</text></g></svg>